<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>YAJL: yajl_parse.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>yajl_parse.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Interface to YAJL's JSON parsing facilities. 
<p>
<code>#include &lt;yajl/yajl_common.h&gt;</code><br>

<p>
<a href="yajl__parse_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structyajl__callbacks.html">yajl_callbacks</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structyajl__parser__config.html">yajl_parser_config</a></td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct yajl_handle_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="yajl__parse_8h.html#1d2bc7f4962c55436daaba61ffaf1f7d">yajl_status</a> { <a class="el" href="yajl__parse_8h.html#1d2bc7f4962c55436daaba61ffaf1f7d67a2a1b5d684de357adb0e1ea444ffd7">yajl_status_ok</a>, 
<a class="el" href="yajl__parse_8h.html#1d2bc7f4962c55436daaba61ffaf1f7d44d6b8f18ecb5e30be3eb5b2f1f5717e">yajl_status_client_canceled</a>, 
<a class="el" href="yajl__parse_8h.html#1d2bc7f4962c55436daaba61ffaf1f7d88c7cd7b308d09c32dad74b47b9ae3f4">yajl_status_insufficient_data</a>, 
<a class="el" href="yajl__parse_8h.html#1d2bc7f4962c55436daaba61ffaf1f7deea581fa9c967d34ad5f062ef59718fd">yajl_status_error</a>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *YAJL_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="yajl__parse_8h.html#bc8eabe57fa2ab272ed3a0473bc6dc0f">yajl_status_to_string</a> (<a class="el" href="yajl__parse_8h.html#1d2bc7f4962c55436daaba61ffaf1f7d">yajl_status</a> code)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a> YAJL_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="yajl__parse_8h.html#2cd939ef7b4b04a77330e8cb5d1e232f">yajl_alloc</a> (const <a class="el" href="structyajl__callbacks.html">yajl_callbacks</a> *callbacks, const <a class="el" href="structyajl__parser__config.html">yajl_parser_config</a> *config, const <a class="el" href="structyajl__alloc__funcs.html">yajl_alloc_funcs</a> *allocFuncs, void *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void YAJL_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="yajl__parse_8h.html#38c2b4c1fb791750a8da39800f160cca">yajl_free</a> (<a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a> handle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="yajl__parse_8h.html#1d2bc7f4962c55436daaba61ffaf1f7d">yajl_status</a> YAJL_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="yajl__parse_8h.html#0b02b6a506f38eec9a9281ee89bff4ae">yajl_parse</a> (<a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a> hand, const unsigned char *jsonText, unsigned int jsonTextLength)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="yajl__parse_8h.html#1d2bc7f4962c55436daaba61ffaf1f7d">yajl_status</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="yajl__parse_8h.html#c348460bb319bcbeb646b542bf150b93">yajl_parse_complete</a> (<a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a> hand)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned char *YAJL_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="yajl__parse_8h.html#c25621056d7bb34d3094d824848a9856">yajl_get_error</a> (<a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a> hand, int verbose, const unsigned char *jsonText, unsigned int jsonTextLength)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void YAJL_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="yajl__parse_8h.html#ed4ff679c8ede798fda07293b554b401">yajl_free_error</a> (<a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a> hand, unsigned char *str)</td></tr>

</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="cb85b92f3d7cb6f0743b4e68d0172323"></a><!-- doxytag: member="yajl_parse.h::yajl_handle" ref="cb85b92f3d7cb6f0743b4e68d0172323" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct yajl_handle_t* <a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
an opaque handle to a parser 
</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="1d2bc7f4962c55436daaba61ffaf1f7d"></a><!-- doxytag: member="yajl_parse.h::yajl_status" ref="1d2bc7f4962c55436daaba61ffaf1f7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="yajl__parse_8h.html#1d2bc7f4962c55436daaba61ffaf1f7d">yajl_status</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
error codes returned from this interface <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="1d2bc7f4962c55436daaba61ffaf1f7d67a2a1b5d684de357adb0e1ea444ffd7"></a><!-- doxytag: member="yajl_status_ok" ref="1d2bc7f4962c55436daaba61ffaf1f7d67a2a1b5d684de357adb0e1ea444ffd7" args="" -->yajl_status_ok</em>&nbsp;</td><td>
no error was encountered </td></tr>
<tr><td valign="top"><em><a class="anchor" name="1d2bc7f4962c55436daaba61ffaf1f7d44d6b8f18ecb5e30be3eb5b2f1f5717e"></a><!-- doxytag: member="yajl_status_client_canceled" ref="1d2bc7f4962c55436daaba61ffaf1f7d44d6b8f18ecb5e30be3eb5b2f1f5717e" args="" -->yajl_status_client_canceled</em>&nbsp;</td><td>
a client callback returned zero, stopping the parse </td></tr>
<tr><td valign="top"><em><a class="anchor" name="1d2bc7f4962c55436daaba61ffaf1f7d88c7cd7b308d09c32dad74b47b9ae3f4"></a><!-- doxytag: member="yajl_status_insufficient_data" ref="1d2bc7f4962c55436daaba61ffaf1f7d88c7cd7b308d09c32dad74b47b9ae3f4" args="" -->yajl_status_insufficient_data</em>&nbsp;</td><td>
The parse cannot yet complete because more json input text is required, call yajl_parse with the next buffer of input text. (pertinent only when stream parsing) </td></tr>
<tr><td valign="top"><em><a class="anchor" name="1d2bc7f4962c55436daaba61ffaf1f7deea581fa9c967d34ad5f062ef59718fd"></a><!-- doxytag: member="yajl_status_error" ref="1d2bc7f4962c55436daaba61ffaf1f7deea581fa9c967d34ad5f062ef59718fd" args="" -->yajl_status_error</em>&nbsp;</td><td>
An error occured during the parse. Call yajl_get_error for more information about the encountered error </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="2cd939ef7b4b04a77330e8cb5d1e232f"></a><!-- doxytag: member="yajl_parse.h::yajl_alloc" ref="2cd939ef7b4b04a77330e8cb5d1e232f" args="(const yajl_callbacks *callbacks, const yajl_parser_config *config, const yajl_alloc_funcs *allocFuncs, void *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a> YAJL_API yajl_alloc           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structyajl__callbacks.html">yajl_callbacks</a> *&nbsp;</td>
          <td class="paramname"> <em>callbacks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structyajl__parser__config.html">yajl_parser_config</a> *&nbsp;</td>
          <td class="paramname"> <em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structyajl__alloc__funcs.html">yajl_alloc_funcs</a> *&nbsp;</td>
          <td class="paramname"> <em>allocFuncs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
allocate a parser handle <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>callbacks</em>&nbsp;</td><td>a yajl callbacks structure specifying the functions to call when different JSON entities are encountered in the input text. May be NULL, which is only useful for validation. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>config</em>&nbsp;</td><td>configuration parameters for the parse. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>a context pointer that will be passed to callbacks. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="38c2b4c1fb791750a8da39800f160cca"></a><!-- doxytag: member="yajl_parse.h::yajl_free" ref="38c2b4c1fb791750a8da39800f160cca" args="(yajl_handle handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void YAJL_API yajl_free           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
free a parser handle 
</div>
</div><p>
<a class="anchor" name="ed4ff679c8ede798fda07293b554b401"></a><!-- doxytag: member="yajl_parse.h::yajl_free_error" ref="ed4ff679c8ede798fda07293b554b401" args="(yajl_handle hand, unsigned char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void YAJL_API yajl_free_error           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a>&nbsp;</td>
          <td class="paramname"> <em>hand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>str</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
free an error returned from yajl_get_error 
</div>
</div><p>
<a class="anchor" name="c25621056d7bb34d3094d824848a9856"></a><!-- doxytag: member="yajl_parse.h::yajl_get_error" ref="c25621056d7bb34d3094d824848a9856" args="(yajl_handle hand, int verbose, const unsigned char *jsonText, unsigned int jsonTextLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* YAJL_API yajl_get_error           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a>&nbsp;</td>
          <td class="paramname"> <em>hand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>verbose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>jsonText</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>jsonTextLength</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
get an error string describing the state of the parse.<p>
If verbose is non-zero, the message will include the JSON text where the error occured, along with an arrow pointing to the specific char.<p>
A dynamically allocated string will be returned which should be freed with yajl_free_error 
</div>
</div><p>
<a class="anchor" name="0b02b6a506f38eec9a9281ee89bff4ae"></a><!-- doxytag: member="yajl_parse.h::yajl_parse" ref="0b02b6a506f38eec9a9281ee89bff4ae" args="(yajl_handle hand, const unsigned char *jsonText, unsigned int jsonTextLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="yajl__parse_8h.html#1d2bc7f4962c55436daaba61ffaf1f7d">yajl_status</a> YAJL_API yajl_parse           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a>&nbsp;</td>
          <td class="paramname"> <em>hand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>jsonText</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>jsonTextLength</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse some json! <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hand</em>&nbsp;</td><td>- a handle to the json parser allocated with yajl_alloc </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>jsonText</em>&nbsp;</td><td>- a pointer to the UTF8 json text to be parsed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>jsonTextLength</em>&nbsp;</td><td>- the length, in bytes, of input text </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c348460bb319bcbeb646b542bf150b93"></a><!-- doxytag: member="yajl_parse.h::yajl_parse_complete" ref="c348460bb319bcbeb646b542bf150b93" args="(yajl_handle hand)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="yajl__parse_8h.html#1d2bc7f4962c55436daaba61ffaf1f7d">yajl_status</a> yajl_parse_complete           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="yajl__parse_8h.html#cb85b92f3d7cb6f0743b4e68d0172323">yajl_handle</a>&nbsp;</td>
          <td class="paramname"> <em>hand</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse any remaining buffered json. Since yajl is a stream-based parser, without an explicit end of input, yajl sometimes can't decide if content at the end of the stream is valid or not. For example, if "1" has been fed in, yajl can't know whether another digit is next or some character that would terminate the integer token.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hand</em>&nbsp;</td><td>- a handle to the json parser allocated with yajl_alloc </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="bc8eabe57fa2ab272ed3a0473bc6dc0f"></a><!-- doxytag: member="yajl_parse.h::yajl_status_to_string" ref="bc8eabe57fa2ab272ed3a0473bc6dc0f" args="(yajl_status code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* YAJL_API yajl_status_to_string           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="yajl__parse_8h.html#1d2bc7f4962c55436daaba61ffaf1f7d">yajl_status</a>&nbsp;</td>
          <td class="paramname"> <em>code</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
attain a human readable, english, string for an error 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Apr 24 15:35:18 2009 for YAJL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
